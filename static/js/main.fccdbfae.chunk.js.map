{"version":3,"sources":["utils/createStringFromHint.js","utils/getHintsFromString.js","reducers/pixelTableReducer.js","utils/createHintsFromBoard.js","components/Pixel/index.jsx","components/Table/index.jsx","components/PixelTable/index.jsx","components/EditQuestionPage/index.jsx","components/SolveQuestionPage/index.jsx","components/StaticRoutePage/index.jsx","App.js","reportWebVitals.js","index.js"],"names":["createStringFromHint","hint","text","encodeURI","JSON","stringify","flat","map","v","buf","Buffer","from","zlib","deflateRawSync","toString","getHintFromString","strHint","size","deflated","inflated","inflateRawSync","hintFlatted","parse","decodeURI","hints","i","start","Math","ceil","end","push","slice","getHintsFromString","str","arr","split","sizeX","parseInt","sizeY","hintsX","hintsY","initialState","table","x","y","mode","pixelTableReducer","state","action","type","payload","Array","length","position","cellState","newTable","xHints","yHints","concat","createHintFromLine","line","cnt","c","forEach","index","pop","createHintsFromBoard","yLines","_","Wrapper","styled","div","BlackCell","WhiteCell","CheckedCell","Pixel","status","onClickPixel","dispatch","useDispatch","onClick","onMouseEnter","e","buttons","getCell","Cell","StyledTable","FrameBorder","Index","th","Spacer","Table","getIndexArray","s","array","xHintMaxLength","reduce","a","b","max","yHintMaxLength","maxHintsLength","useSelector","cellSpacing","yHintX","as","yHinty","xHintx","PixelTable","Message","EditQuestionPage","useState","questionUrl","setQuestionUrl","setInitalData","useEffect","xStringHint","yStringHint","hintString","createStringHints","onChange","isNaN","numSize","setTableSize","target","value","href","p","SolveQuestionPage","location","useLocation","solved","setSolved","deepEqual","arr1","arr2","j","search","querystring","current","StaticRoutePage","setType","indexOf","App","store","createStore","className","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oHAAA,iCAUeA,IARc,SAACC,GAC5B,IAAMC,EAAOC,UAAUC,KAAKC,UAAUJ,EAAKK,OAAOC,KAAI,SAACC,GAAD,OAAQA,GAAI,OAC5DC,EAAMC,EAAOC,KAAKT,GAGxB,OAFiBU,IAAKC,eAAeJ,GACPK,SAAS,a,0DCNzC,iCAEMC,EAAoB,SAACC,EAASC,GAMlC,IALA,IAAMC,EAAWR,EAAOC,KAAKK,EAAS,UAChCG,EAAWP,IAAKQ,eAAeF,GAAUJ,WACzCO,EAAcjB,KAAKkB,MAAMC,UAAUJ,IAAWZ,KAAI,SAACC,GAAD,OAAa,IAANA,EAAU,KAAOA,KAE1EgB,EAAQ,GACLC,EAAI,EAAGA,EAAIR,EAAMQ,IAAK,CAC7B,IAAMC,EAAQC,KAAKC,KAAKX,EAAO,GAAKQ,EAC9BI,EAAMF,KAAKC,KAAKX,EAAO,IAAMQ,EAAI,GACvCD,EAAMM,KAAKT,EAAYU,MAAML,EAAOG,IAEtC,OAAOL,GAkBMQ,IAfY,SAACC,GAC1B,IAAMC,EAAMD,EAAIE,MAAM,KAChBC,EAAQC,SAASH,EAAI,IACrBI,EAAQD,SAASH,EAAI,IAI3B,MAAO,CACLE,QACAE,QACAC,OANaxB,EAAkBmB,EAAI,GAAIE,GAOvCI,OANazB,EAAkBmB,EAAI,GAAII,O,sPCrBrCG,EAAe,CACnBxB,KAAM,KACNyB,MAAO,KACPlB,MAAO,CAAEmB,EAAG,KAAMC,EAAG,MACrBC,KAAM,UAyCOC,EAtCW,WAAmC,IAAlCC,EAAiC,uDAAzBN,EAAcO,EAAW,uCAC1D,OAAQA,EAAOC,MACb,IAAK,OAAS,IAAD,EACgBD,EAAOE,QAA1BjC,KAAQ0B,EADL,EACKA,EAAGC,EADR,EACQA,EACnB,MAAO,CACL3B,KAAM,CAAE0B,IAAGC,KACXF,MAAOS,MAAMxC,KAAK,CAACyC,OAAQT,IAAIpC,KAAI,SAACC,GAAD,OAAO2C,MAAMxC,KAAK,CAACyC,OAAQR,IAAIrC,KAAI,iBAAM,eAIhF,IAAK,YAAc,IAAD,EAC0ByC,EAAOE,QADjC,IACRG,SAAYV,EADJ,EACIA,EAAGC,EADP,EACOA,EAAKU,EADZ,EACYA,UACtBC,EAAWR,EAAML,MAEvB,OADAa,EAASZ,GAAGC,GAAKU,EACV,2BAAKP,GAAZ,IAAmBL,MAAOa,IAE5B,IAAK,YAAc,IAAD,EACWP,EAAOE,QAA1BM,EADQ,EACRA,OAAQC,EADA,EACAA,OAChB,OAAO,2BACFV,GADL,IAEEvB,MAAO,CACLmB,EAAGa,EAAOjD,KAAI,SAACN,GAAD,OAAWA,GAAQ,IAAIyD,OAAOP,MAAMxC,KAAK,CAACyC,OAAQzB,KAAKC,KAAKmB,EAAM9B,KAAK2B,EAAI,IAAM3C,EAAOA,EAAKmD,OAAS,SACpHR,EAAGa,EAAOlD,KAAI,SAACN,GAAD,OAAWA,GAAQ,IAAIyD,OAAOP,MAAMxC,KAAK,CAACyC,OAAQzB,KAAKC,KAAKmB,EAAM9B,KAAK0B,EAAI,IAAM1C,EAAOA,EAAKmD,OAAS,YAI1H,IAAK,WAAa,IACRP,EAASG,EAAOE,QAAhBL,KACR,OAAO,2BACFE,GADL,IAEEF,SAGJ,QACE,OAAOE,I,cCzCPY,EAAqB,SAACC,GAC1B,IAAMpC,EAAQ,GAEVqC,EAAM,EAaV,OAZAD,EAAK9B,KAAK,WACV8B,EAAKrD,KAAI,SAACuD,GAAD,MAAa,UAANA,EAAgB,IAAM,OAAKC,SAAQ,SAACD,EAAGE,GAC3C,MAANF,EACFD,IAEIA,EAAM,IACRrC,EAAMM,KAAK+B,GACXA,EAAM,MAIZD,EAAKK,MACEzC,EAAMkC,OAAOP,MAAMxC,KAAK,CAACyC,OAASQ,EAAKR,OAAO,EAAK5B,EAAM4B,WAoBnDc,EAjBc,SAACxB,GAC5B,IAAKA,EACH,MAAO,CAAEc,OAAQ,KAAMC,OAAQ,MAIjC,IADA,IAAMU,EAAS,GALuB,WAM7BvB,GACP,IAAMgB,EAAOT,MAAMxC,KAAK,CAACyC,OAAQV,EAAMU,SAAS7C,KAAI,SAAC6D,EAAGJ,GAAJ,OAAcA,KAC/DzD,KAAI,SAACoC,GAAD,OAAOD,EAAMC,GAAGC,MACvBuB,EAAOrC,KAAK8B,IAHLhB,EAAI,EAAGA,EAAIF,EAAM,GAAGU,OAAQR,IAAM,EAAlCA,GAKT,MAAO,CACLY,OAAQd,EAAMnC,KAAI,SAACqD,GAAD,OAAUD,EAAmBC,MAC/CH,OAAQU,EAAO5D,KAAI,SAACqD,GAAD,OAAUD,EAAmBC,Q,uBC5B9CS,EAAUC,IAAOC,IAAV,+JASPC,EAAYF,IAAOC,IAAV,mFAMTE,EAAYH,IAAOC,IAAV,mFAMTG,EAAcJ,IAAOC,IAAV,qaAwEFI,EAtDD,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,OAAQjC,EAA+B,EAA/BA,EAAGC,EAA4B,EAA5BA,EAAGC,EAAyB,EAAzBA,KAAMgC,EAAmB,EAAnBA,aAC7BC,EAAWC,cA6CjB,OACE,cAACV,EAAD,CAASW,QA7CK,WACd,IAAI1B,EAAY,GAChB,OAAOsB,GACL,IAAK,QACHtB,EAAY,QACZ,MACF,IAAK,QAEDA,EADW,UAATT,EACU,UAEA,QAEd,MACF,IAAK,UACL,QACES,EAAY,QAEhBwB,EAAS,CAAE7B,KAAM,YAAaC,QAAS,CAAEG,SAAS,CAAEV,IAAGC,KAAKU,eAE5DuB,KA0B2BI,aAxBR,SAACC,GAEF,IAAdA,EAAEC,UAGNL,EAAS,CAAE7B,KAAM,YAAaC,QAAS,CAAEG,SAAS,CAAEV,IAAGC,KAAKU,UAAW,WAEvEuB,MAiBA,SAbc,SAACD,GACf,OAAOA,GACL,IAAK,QACH,OAAO,cAACH,EAAD,IACT,IAAK,QACH,OAAO,cAACD,EAAD,IACT,IAAK,UACL,QACE,OAAO,cAACE,EAAD,KAMRU,CAAQR,MCrFTS,EAAOf,IAAOC,IAAV,0MAWJe,EAAchB,IAAO5B,MAAV,gMAaX6C,EAAcjB,IAAOC,IAAV,6LAUXiB,EAAQlB,IAAOmB,GAAV,sEAKLC,EAASpB,IAAOC,IAAV,6DAiEGoB,EA5DD,SAAC,GAAiD,IAAhD1E,EAA+C,EAA/CA,KAAMyB,EAAyC,EAAzCA,MAAOc,EAAkC,EAAlCA,OAAQC,EAA0B,EAA1BA,OAAQoB,EAAkB,EAAlBA,aACrCe,EAAgB,SAACC,GAAD,OAAOA,EAAI1C,MAAMxC,KAAK,CAACyC,OAAQyC,IAAI,SAACzB,EAAGJ,GAAJ,OAAcA,KAAS,IAC1E8B,EAAQF,EAAc3E,GAEtB8E,EAAiBvC,GAAUA,EAAOwC,QAAO,SAACC,EAAEC,GAAH,OAASvE,KAAKwE,IAAIF,EAAE7C,QAAU6C,EAAGC,EAAE9C,QAAU8C,MACtFE,EAAiB3C,GAAUA,EAAOuC,QAAO,SAACC,EAAEC,GAAH,OAASvE,KAAKwE,IAAIF,EAAE7C,QAAU6C,EAAGC,EAAE9C,QAAU8C,MACtFG,EAAiB1E,KAAKwE,IAAIJ,EAAgBK,GAExCvD,EAASyD,aAAY,SAACvD,GAAD,OAAWA,KAAhCF,KACR,OACE,eAACyC,EAAD,CAAaiB,YAAY,IAAzB,UACE,gCACE,+BACE,cAACf,EAAD,UAAO,cAACE,EAAD,MACNE,EAAcG,GAAgBxF,KAAI,SAACC,GAAD,OAAO,sBAASA,MAClDsF,EAAMvF,KAAI,SAACC,GAAD,OAAO,cAACgF,EAAD,UAAgBhF,GAAJA,WAGlC,kCAEIoF,EAAcS,GAAgB9F,KAAI,SAACiG,GACjC,OACE,+BACE,cAAChB,EAAD,CAAOiB,GAAG,OACTb,EAAcG,GAAgBxF,KAAI,SAACC,GAAD,OAAO,6BAAa,cAAC6E,EAAD,UAAM,cAACE,EAAD,OAAV/E,MAClDoF,EAAc3E,GAAMV,KAAI,SAACmG,GAAD,OAAY,6BAAiB,cAACrB,EAAD,UAAM,cAACE,EAAD,UAAc9B,EAAOiD,GAAQF,IAAW,QAAtDE,QAHvCF,MAQdV,EAAMvF,KAAI,SAACoC,GACV,OACE,+BACE,cAAC6C,EAAD,CAAOiB,GAAG,KAAV,SAAwB9D,GAAJA,GAElBiD,EAAcG,GAAgBxF,KAAI,SAACoG,GACjC,OACE,6BACE,cAACtB,EAAD,UAAM,cAACE,EAAD,UAAc/B,EAAOb,GAAGgE,IAAW,QADlCA,MAMdb,EAAMvF,KAAI,SAACqC,GACV,OACE,6BACE,cAACyC,EAAD,UACE,cAAC,EAAD,CAAO1C,EAAGA,EAAGC,EAAGA,EAAGgC,OAAQlC,GAASA,EAAMC,GAAGC,GAAIiC,aAAcA,EAAchC,KAAMA,OAF9ED,QAbND,aCzEf0B,EAAUC,IAAOC,IAAV,gEAiBEqC,EAZI,SAAC,GAA0C,IAAxC3F,EAAuC,EAAvCA,KAAMyB,EAAiC,EAAjCA,MAAOlB,EAA0B,EAA1BA,MAAOqD,EAAmB,EAAnBA,aACxC,OACE,cAAC,EAAD,UACGnC,GAASlB,GACR,mCACE,cAAC,EAAD,CAAOP,KAAMA,EAAK0B,EAAGD,MAAOA,EAAOc,OAAQhC,EAAMmB,EAAGc,OAAQjC,EAAMoB,EAAGiC,aAAcA,S,uBCZvFR,EAAUC,IAAOC,IAAV,iGAMPsC,EAAUvC,IAAOC,IAAV,8CAkEEuC,EA9DU,WAAO,IAAD,EACER,aAAY,SAACvD,GAAD,OAAWA,KAA9C9B,EADqB,EACrBA,KAAMyB,EADe,EACfA,MAAOlB,EADQ,EACRA,MACfsD,EAAWC,cAFY,EAISgC,mBAAS,IAJlB,mBAItBC,EAJsB,KAITC,EAJS,KAMvBC,EAAgB,WAEpBpC,EAAS,CAAE7B,KAAM,OAAQC,QAAS,CAAEjC,KAAM,CAAE0B,EAD3B,GACwCC,EADxC,OAEjBkC,EAAS,CAAE7B,KAAM,YAAaC,QAAS,CAAEM,OAAQL,MAAMxC,KAAK,CAACyC,OAF5C,KAEgEK,OAAQN,MAAMxC,KAAK,CAACyC,OAFpF,QAGjB0B,EAAS,CAAE7B,KAAM,WAAYC,QAAS,CAAEL,KAAM,aAsChD,OAZAsE,qBAAU,WACHzE,GACHwE,OAIJC,qBAAU,WACJ3F,GAASA,EAAMmB,GAAKnB,EAAMoB,GA9BN,WACxB,IAAMwE,EAAcpH,YAAqBwB,EAAMmB,GACzC0E,EAAcrH,YAAqBwB,EAAMoB,GACzC0E,EAAU,UAAMrG,EAAK0B,EAAX,YAAgB1B,EAAK2B,EAArB,YAA0BwE,EAA1B,YAAyCC,GAEzDJ,EAAe,oBAAD,OAAqBK,IA0BjCC,KAED,CAAC/F,IAGF,eAAC,EAAD,WACE,cAAC,EAAD,CAAYP,KAAMA,EAAMyB,MAAOA,EAAOlB,MAAOA,EAAOqD,aAnBpC,WAAO,IAAD,EACGX,EAAqBxB,GAAxCc,EADgB,EAChBA,OAAQC,EADQ,EACRA,OAChBqB,EAAS,CAAE7B,KAAM,YAAaC,QAAS,CAAEM,SAAQC,eAkB/C,eAACoD,EAAD,0CAC8B,uBAAO5D,KAAK,OAAOuE,SAAU,SAACtC,GAAD,OA/B1C,SAACjE,GACpB,IAAKwG,MAAMxG,GAAO,CAChB,IAAMyG,EAAUrF,SAASpB,GACrByG,EAAU,GAAKA,GAAW,KAC5B5C,EAAS,CAAE7B,KAAM,OAAQC,QAAS,CAAEjC,KAAM,CAAE0B,EAAG+E,EAAS9E,EAAG8E,MAC3D5C,EAAS,CAAE7B,KAAM,YAAaC,QAAS,CAAEM,OAAQL,MAAMxC,KAAK,CAACyC,OAAQsE,IAAWjE,OAAQN,MAAMxC,KAAK,CAACyC,OAAQsE,SA0B5CC,CAAazC,EAAE0C,OAAOC,QAAQ1B,IAAK,QAErG,eAACU,EAAD,2BACe,mBAAGiB,KAAMd,EAAaY,OAAO,SAA7B,SAAuCZ,GAAe,YAErE,wBAAQhC,QAASkC,EAAjB,wB,iBChEA7C,GAAUC,IAAOC,IAAV,iGAMPsC,GAAUvC,IAAOyD,EAAV,qFA8FEC,GAxFW,WAAO,IAAD,EACC1B,aAAY,SAACvD,GAAD,OAAWA,KAA9C9B,EADsB,EACtBA,KAAMyB,EADgB,EAChBA,MAAOlB,EADS,EACTA,MACfsD,EAAWC,cACXkD,EAAWC,cAHa,EAKFnB,oBAAS,GALP,mBAKvBoB,EALuB,KAKfC,EALe,OAMIrB,mBAAS,MANb,mBAgCxBsB,GAhCwB,UAgCZ,SAACC,EAAMC,GACvB,IAAK,IAAI9G,EAAI,EAAGA,EAAI6G,EAAKlF,OAAQ3B,IAC/B,IAAK,IAAI+G,EAAI,EAAGA,EAAIF,EAAK,GAAGlF,OAAQoF,IAClC,GAAIF,EAAK7G,GAAG+G,IAAMD,EAAK9G,GAAG+G,GACxB,OAAO,EAIb,OAAO,IAsCT,OANArB,qBAAU,YAhEY,WAGpB,GADArC,EAAS,CAAE7B,KAAM,WAAYC,QAAS,CAAEL,KAAM,YACzCoF,EAASQ,OAGZ,OAFA3D,EAAS,CAAE7B,KAAM,OAAQC,QAAS,CAAEjC,KAAM,CAAE0B,EAH7B,GAG0CC,EAH1C,YAIfkC,EAAS,CAAE7B,KAAM,YAAaC,QAAS,CAAEM,OAAQL,MAAMxC,KAAK,CAACyC,OAJ9C,KAIkEK,OAAQN,MAAMxC,KAAK,CAACyC,OAJtF,QAOjB,IAAMnD,EAAOyI,IAAYpH,MAAM2G,EAASQ,QAAQxI,KAEhD,GAAKA,EAAL,CAV0B,MAkBtB+B,YAAmB/B,GAJrBmC,EAdwB,EAcxBA,MACAE,EAfwB,EAexBA,MACAC,EAhBwB,EAgBxBA,OACAC,EAjBwB,EAiBxBA,OAGFsC,EAAS,CAAE7B,KAAM,OAAQC,QAAS,CAAEjC,KAAM,CAAE0B,EAAGP,EAAOQ,EAAGN,MACzDwC,EAAS,CAAE7B,KAAM,YAAaC,QAAS,CAAEM,OAAQjB,EAAQkB,OAAQjB,MA6C/D0E,KAED,IAGD,eAAC,GAAD,WACE,cAAC,EAAD,CAAYjG,KAAMA,EAAMyB,MAAOA,EAAOlB,MAAOA,EAAOqD,aArCpC,WAClB,IAAM8D,EAAUzE,EAAqBxB,GAElC2F,EAAUM,EAAQnF,OAAQhC,EAAMmB,IAAM0F,EAAUM,EAAQlF,OAAQjC,EAAMoB,GACvEwF,GAAU,GAEVA,GAAU,MAkCV,cAAC,GAAD,UAAUD,GAAU,gBC7EXS,GAvBS,WACtB,IAAMX,EAAWC,cADW,EAGJnB,mBAAS,UAHL,mBAGrB9D,EAHqB,KAGf4F,EAHe,KAe5B,OAVA1B,qBAAU,WACJc,IACEA,EAASQ,OAAOK,QAAQ,cAAgB,EAC1CD,EAAQ,SAERA,EAAQ,aAGX,CAACZ,IAGF,qCACY,UAAThF,GAAoB,cAAC,GAAD,IACX,WAATA,GAAqB,cAAC,EAAD,QCGb8F,OAhBf,WACE,IAAMC,EAAQC,YAAYnG,GAE1B,OACE,qBAAKoG,UAAU,MAAf,SACE,cAAC,IAAD,CAAUF,MAAOA,EAAjB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOG,KAAK,IAAIC,UAAWR,KAC3B,cAAC,IAAD,CAAOO,KAAK,UAAUC,UAAWtC,IACjC,cAAC,IAAD,CAAOqC,KAAK,SAASC,UAAWpB,aCP3BqB,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1Bb,O","file":"static/js/main.fccdbfae.chunk.js","sourcesContent":["import zlib from 'zlib';\r\n\r\nconst createStringFromHint = (hint) => {\r\n  const text = encodeURI(JSON.stringify(hint.flat().map((v) => !v ? 0 : v)));\r\n  const buf = Buffer.from(text);\r\n  const deflated = zlib.deflateRawSync(buf);\r\n  const base64string = deflated.toString('base64');\r\n  return base64string;\r\n};\r\n\r\nexport default createStringFromHint;\r\n","import zlib from 'zlib';\r\n\r\nconst getHintFromString = (strHint, size) => {\r\n  const deflated = Buffer.from(strHint, 'base64');\r\n  const inflated = zlib.inflateRawSync(deflated).toString();\r\n  const hintFlatted = JSON.parse(decodeURI(inflated)).map((v) => v === 0 ? null : v);\r\n\r\n  const hints = [];\r\n  for (let i = 0; i < size; i++) {\r\n    const start = Math.ceil(size / 2) * i;\r\n    const end = Math.ceil(size / 2) * (i + 1);\r\n    hints.push(hintFlatted.slice(start, end));\r\n  }\r\n  return hints;\r\n}\r\n\r\nconst getHintsFromString = (str) => {\r\n  const arr = str.split('_');\r\n  const sizeX = parseInt(arr[0]);\r\n  const sizeY = parseInt(arr[1]);\r\n  const hintsX = getHintFromString(arr[2], sizeX);\r\n  const hintsY = getHintFromString(arr[3], sizeY);\r\n  \r\n  return {\r\n    sizeX,\r\n    sizeY,\r\n    hintsX,\r\n    hintsY,\r\n  };\r\n};\r\n\r\nexport default getHintsFromString;","const initialState = {\r\n  size: null,\r\n  table: null,\r\n  hints: { x: null, y: null },\r\n  mode: 'create',\r\n};\r\n\r\nconst pixelTableReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'INIT': {\r\n      const { size: { x, y } } = action.payload;\r\n      return {\r\n        size: { x, y },\r\n        table: Array.from({length: x}).map((v) => Array.from({length: y}).map(() => 'white')),\r\n        // mode: 'create',\r\n      };\r\n    }\r\n    case 'SET_PIXEL': {\r\n      const { position: { x, y }, cellState } = action.payload;\r\n      const newTable = state.table;\r\n      newTable[x][y] = cellState;\r\n      return { ...state, table: newTable };\r\n    }\r\n    case 'SET_HINTS': {\r\n      const { xHints, yHints } = action.payload;\r\n      return {\r\n        ...state,\r\n        hints: {\r\n          x: xHints.map((hint) => (hint || []).concat(Array.from({length: Math.ceil(state.size.y / 2) - (hint ? hint.length : 0) }))),\r\n          y: yHints.map((hint) => (hint || []).concat(Array.from({length: Math.ceil(state.size.x / 2) - (hint ? hint.length : 0) }))),\r\n        },\r\n      };\r\n    }\r\n    case 'SET_MODE': {\r\n      const { mode } = action.payload;\r\n      return {\r\n        ...state,\r\n        mode,\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default pixelTableReducer;","const createHintFromLine = (line) => {\r\n  const hints = [];\r\n  // const binaryline = \r\n  let cnt = 0;\r\n  line.push(\"padding\");\r\n  line.map((c) => c === 'black' ? \"1\" : \"0\").forEach((c, index) => {\r\n    if (c === \"1\") {\r\n      cnt++;\r\n    } else {\r\n      if (cnt > 0) {\r\n        hints.push(cnt);  \r\n        cnt = 0;\r\n      }\r\n    }\r\n  });\r\n  line.pop();\r\n  return hints.concat(Array.from({length: (line.length/2) - hints.length}));\r\n};\r\n\r\nconst createHintsFromBoard = (table) => {\r\n  if (!table) {\r\n    return { xHints: null, yHints: null };\r\n  }\r\n\r\n  const yLines = []; \r\n  for (let y = 0; y < table[0].length; y++) {\r\n    const line = Array.from({length: table.length}).map((_, index) => index)\r\n      .map((x) => table[x][y])\r\n    yLines.push(line);\r\n  }\r\n  return {\r\n    xHints: table.map((line) => createHintFromLine(line)),\r\n    yHints: yLines.map((line) => createHintFromLine(line)),\r\n  };\r\n};\r\n\r\nexport default createHintsFromBoard;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport styled from 'styled-components';\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  height: 100%;\r\n  border: 1px solid black;\r\n`;\r\n\r\nconst BlackCell = styled.div`\r\n  background: black;\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nconst WhiteCell = styled.div`\r\n  background: white;\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nconst CheckedCell = styled.div`\r\n  background: white;\r\n  background-image: linear-gradient(-45deg,\r\n    transparent 48%,\r\n    black 48%,\r\n    black 52%,\r\n    transparent 52%, \r\n    transparent),\r\n  linear-gradient(45deg, /*角度*/\r\n    transparent 48%,\r\n    black 48%, /*斜線の色*/\r\n    black 52%, /*斜線の色*/\r\n    transparent 52%, \r\n    transparent);\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nconst Pixel = ({ status, x, y, mode, onClickPixel }) => {\r\n  const dispatch = useDispatch();\r\n  const onClick = () => {\r\n    let cellState = '';\r\n    switch(status) {\r\n      case 'white':\r\n        cellState = 'black';\r\n        break;\r\n      case 'black':\r\n        if (mode === 'solve') {\r\n          cellState = 'checked';\r\n        } else {\r\n          cellState = 'white';\r\n        }\r\n        break;\r\n      case 'checked':\r\n      default:\r\n        cellState = 'white';\r\n    }\r\n    dispatch({ type: \"SET_PIXEL\", payload: { position:{ x, y }, cellState } });\r\n    \r\n    onClickPixel();\r\n  };\r\n  const onMouseHover = (e) => {\r\n    // hover時に左クリックしていないなら何もしない\r\n    if (e.buttons !== 1 ) {\r\n      return;\r\n    }\r\n    dispatch({ type: \"SET_PIXEL\", payload: { position:{ x, y }, cellState: 'black'} });\r\n    \r\n    onClickPixel();\r\n    return;\r\n  };\r\n\r\n  const getCell = (status) => {\r\n    switch(status) {\r\n      case 'white':\r\n        return <WhiteCell />;\r\n      case 'black':\r\n        return <BlackCell />;\r\n      case 'checked':\r\n      default:\r\n        return <CheckedCell />;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Wrapper onClick={onClick} onMouseEnter={onMouseHover}>\r\n      {getCell(status)}\r\n    </Wrapper>\r\n  );\r\n  \r\n};\r\n\r\nexport default Pixel;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport styled, { css } from 'styled-components';\r\nimport createHintsFromBoard from '../../utils/createHintsFromBoard';\r\nimport Pixel from '../Pixel';\r\n\r\nconst Cell = styled.div`\r\n  width: 40px;\r\n  height: 40px;\r\n  border-collapse: collapse;\r\n  font-size: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: #999;\r\n`;\r\n\r\nconst StyledTable = styled.table`\r\n  width: 50px;\r\n  height: 50px;\r\n  \r\n  // border: 1px solid black;\r\n  border-spacing: 0;\r\n  border-collapse: collapse;\r\n  td {\r\n   padding: 0;\r\n   margin: 0;\r\n  }\r\n`;\r\n\r\nconst FrameBorder = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: 1px solid black;\r\n  border-collapse: collapse;\r\n`;\r\n\r\nconst Index = styled.th`\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst Spacer = styled.div`\r\n  width: 20px;\r\n  height: 20px;\r\n`;\r\n\r\nconst Table = ({size, table, xHints, yHints, onClickPixel}) => {\r\n  const getIndexArray = (s) => s ? Array.from({length: s}, (_, index) => index) : [];\r\n  const array = getIndexArray(size);\r\n  \r\n  const xHintMaxLength = xHints && xHints.reduce((a,b) => Math.max(a.length || a, b.length || b));\r\n  const yHintMaxLength = yHints && yHints.reduce((a,b) => Math.max(a.length || a, b.length || b));\r\n  const maxHintsLength = Math.max(xHintMaxLength, yHintMaxLength);\r\n\r\n  const { mode } = useSelector((state) => state);\r\n  return (\r\n    <StyledTable cellSpacing='0'>\r\n      <thead>\r\n        <tr>\r\n          <Index><Spacer/></Index>\r\n          {getIndexArray(xHintMaxLength).map((v) => <th key={v}></th>)}\r\n          {array.map((v) => <Index key={v}>{v}</Index>)}\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n       {\r\n          getIndexArray(maxHintsLength).map((yHintX) => {\r\n            return (\r\n              <tr key={yHintX}>\r\n                <Index as=\"td\" />\r\n                {getIndexArray(xHintMaxLength).map((v) => <td key={v}>{<Cell><FrameBorder/></Cell> }</td>)}\r\n                {getIndexArray(size).map((yHinty) => <td key={yHinty}><Cell><FrameBorder>{yHints[yHinty][yHintX] || ''}</FrameBorder></Cell></td>)}\r\n              </tr>\r\n            );\r\n          })\r\n        }\r\n        {array.map((x) => {\r\n          return (\r\n            <tr key={x}>\r\n              <Index as=\"td\" key={x}>{x}</Index>\r\n              {\r\n                getIndexArray(xHintMaxLength).map((xHintx) => {\r\n                  return (\r\n                    <td key={xHintx}>\r\n                      <Cell><FrameBorder>{xHints[x][xHintx] || ''}</FrameBorder></Cell>\r\n                    </td>\r\n                  );\r\n                })\r\n              }\r\n              {array.map((y) => {\r\n                return (\r\n                  <td key={y}>\r\n                    <Cell>\r\n                      <Pixel x={x} y={y} status={table && table[x][y]} onClickPixel={onClickPixel} mode={mode}/>\r\n                    </Cell>\r\n                  </td>\r\n                );\r\n              })}\r\n            </tr>\r\n          )\r\n        })}\r\n      </tbody>\r\n    </StyledTable>\r\n  )\r\n};\r\n\r\nexport default Table;","import { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport createHintsFromBoard from \"../../utils/createHintsFromBoard\";\r\nimport createStringFromHint from \"../../utils/createStringFromHint\";\r\nimport getHintsFromString from \"../../utils/getHintsFromString\";\r\nimport Table from \"../Table\";\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  padding: 40px;\r\n`;\r\n\r\nconst PixelTable = ({ size, table, hints, onClickPixel }) => {\r\n  return (\r\n    <Wrapper>\r\n      {table && hints && (\r\n        <>\r\n          <Table size={size.x} table={table} xHints={hints.x} yHints={hints.y} onClickPixel={onClickPixel}/>\r\n        </>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default PixelTable;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport createHintsFromBoard from \"../../utils/createHintsFromBoard\";\r\nimport createStringFromHint from \"../../utils/createStringFromHint\";\r\nimport PixelTable from \"../PixelTable\";\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Message = styled.div`\r\n  display: flex;\r\n`\r\n\r\nconst EditQuestionPage = () => {\r\n  const { size, table, hints } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const [questionUrl, setQuestionUrl] = useState('');\r\n\r\n  const setInitalData = () => {\r\n    const initSize = 10;\r\n    dispatch({ type: \"INIT\", payload: { size: { x: initSize, y: initSize }}});\r\n    dispatch({ type: 'SET_HINTS', payload: { xHints: Array.from({length: initSize}), yHints: Array.from({length: initSize}) } });\r\n    dispatch({ type: 'SET_MODE', payload: { mode: 'create' }});\r\n  }\r\n\r\n  const createStringHints = () => {\r\n    const xStringHint = createStringFromHint(hints.x);\r\n    const yStringHint = createStringFromHint(hints.y);\r\n    const hintString = `${size.x}_${size.y}_${xStringHint}_${yStringHint}`;\r\n\r\n    setQuestionUrl(`?type=solve&hint=${hintString}`);\r\n  };\r\n\r\n  const setTableSize = (size) => {\r\n    if (!isNaN(size)) {\r\n      const numSize = parseInt(size);\r\n      if (numSize > 0 && numSize <= 20) {\r\n        dispatch({ type: 'INIT', payload: { size: { x: numSize, y: numSize }}});\r\n        dispatch({ type: 'SET_HINTS', payload: { xHints: Array.from({length: numSize}), yHints: Array.from({length: numSize}) } }); \r\n      }\r\n    }\r\n  };\r\n  \r\n  const createHints = () => {\r\n    const { xHints, yHints } = createHintsFromBoard(table);\r\n    dispatch({ type: 'SET_HINTS', payload: { xHints, yHints } })\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!table) {\r\n      setInitalData();\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (hints && hints.x && hints.y) {\r\n      createStringHints();\r\n    }\r\n  }, [hints]);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <PixelTable size={size} table={table} hints={hints} onClickPixel={createHints}/>\r\n      <Message>\r\n        table size(max size is 20): <input type=\"text\" onChange={(e) => setTableSize(e.target.value)} max={30}/>\r\n      </Message>\r\n      <Message>\r\n        Let's solve: <a href={questionUrl} target=\"_blank\">{questionUrl && 'here'}</a>\r\n      </Message>\r\n      <button onClick={setInitalData}>Reset!</button>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default EditQuestionPage;","import { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useLocation } from \"react-router\";\r\nimport styled from \"styled-components\";\r\nimport createHintsFromBoard from \"../../utils/createHintsFromBoard\";\r\nimport createStringFromHint from \"../../utils/createStringFromHint\";\r\nimport getHintsFromString from \"../../utils/getHintsFromString\";\r\nimport PixelTable from \"../PixelTable\";\r\nimport querystring from 'querystring';\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Message = styled.p`\r\n  font-size: 40px;\r\n  font-weight: bold;\r\n  color: red;\r\n`;\r\n\r\nconst SolveQuestionPage = () => {\r\n  const { size, table, hints } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n\r\n  const [solved, setSolved] = useState(false);\r\n  const [hintValue, setHintValue] = useState(null);\r\n\r\n  const setInitalData = () => {\r\n    const initSize = 10;\r\n    dispatch({ type: 'SET_MODE', payload: { mode: 'solve' }});\r\n    if (!location.search) {\r\n      dispatch({ type: \"INIT\", payload: { size: { x: initSize, y: initSize }}});\r\n      dispatch({ type: 'SET_HINTS', payload: { xHints: Array.from({length: initSize}), yHints: Array.from({length: initSize}) } });\r\n      return;\r\n    }\r\n    const hint = querystring.parse(location.search).hint;\r\n    // const hint = location.search.replace('?hint=', '');\r\n    if (!hint) {\r\n      return;\r\n    }\r\n    const {\r\n      sizeX,\r\n      sizeY,\r\n      hintsX,\r\n      hintsY,\r\n    } = getHintsFromString(hint);\r\n\r\n    dispatch({ type: \"INIT\", payload: { size: { x: sizeX, y: sizeY }}});\r\n    dispatch({ type: 'SET_HINTS', payload: { xHints: hintsX, yHints: hintsY } });\r\n  }\r\n\r\n  const deepEqual = (arr1, arr2) => {\r\n    for (let i = 0; i < arr1.length; i++) {\r\n      for (let j = 0; j < arr1[0].length; j++) {\r\n        if (arr1[i][j] != arr2[i][j]) {\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n \r\n  const checkSolved = () => {\r\n    const current = createHintsFromBoard(table);\r\n    \r\n    if(deepEqual(current.xHints, hints.x) && deepEqual(current.yHints, hints.y)) {\r\n      setSolved(true);\r\n    } else {\r\n      setSolved(false);\r\n    }\r\n  }\r\n\r\n  const onChangeHint = (e) => {\r\n    if (!e.target.value) {\r\n      return;\r\n    }\r\n    setHintValue(e.target.value);\r\n  };\r\n\r\n  const onSetHint = () => {\r\n    const {\r\n      sizeX,\r\n      sizeY,\r\n      hintsX,\r\n      hintsY,\r\n    } = getHintsFromString(hintValue);\r\n\r\n    dispatch({ type: \"INIT\", payload: { size: { x: sizeX, y: sizeY }}});\r\n    dispatch({ type: 'SET_HINTS', payload: { xHints: hintsX, yHints: hintsY } });\r\n  };\r\n\r\n  useEffect(() => {\r\n    // if (!table) {\r\n      setInitalData();\r\n    // }\r\n  }, []);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <PixelTable size={size} table={table} hints={hints} onClickPixel={checkSolved}/>\r\n      {/* <input onChange={onChangeHint} />\r\n      <button onClick={onSetHint}>Set</button> */}\r\n      <Message>{solved && 'Solved!'}</Message>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default SolveQuestionPage;","import { useEffect, useState } from \"react\";\r\nimport { useLocation } from \"react-router\";\r\nimport EditQuestionPage from \"../EditQuestionPage\";\r\nimport SolveQuestionPage from \"../SolveQuestionPage\";\r\n\r\nconst StaticRoutePage = () => {\r\n  const location = useLocation();\r\n\r\n  const [type, setType] = useState('create');\r\n\r\n  useEffect(() => {\r\n    if (location) {\r\n      if (location.search.indexOf(\"type=solve\") > 0) {\r\n        setType('solve');\r\n      } else {\r\n        setType('create');\r\n      }\r\n    }\r\n  }, [location])\r\n\r\n  return (\r\n    <>\r\n      {type === 'solve' && <SolveQuestionPage />}\r\n      {type === 'create' && <EditQuestionPage />}\r\n    </>\r\n  )\r\n};\r\n\r\nexport default StaticRoutePage;","import './App.css';\nimport { Provider } from 'react-redux';\nimport { createStore } from 'redux'\nimport pixelTableReducer from './reducers/pixelTableReducer';\nimport PixelTable from './components/PixelTable';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport EditQuestionPage from './components/EditQuestionPage';\nimport SolveQuestionPage from './components/SolveQuestionPage';\nimport StaticRoutePage from './components/StaticRoutePage';\n\nfunction App() {\n  const store = createStore(pixelTableReducer);\n\n  return (\n    <div className=\"App\">\n      <Provider store={store}>\n        <BrowserRouter>\n          <Route path=\"/\" component={StaticRoutePage} />\n          <Route path=\"/create\" component={EditQuestionPage} />\n          <Route path=\"/solve\" component={SolveQuestionPage} />\n        </BrowserRouter>\n      </Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}