(this["webpackJsonpillust-logic"]=this["webpackJsonpillust-logic"]||[]).push([[0],{19:function(n,t,e){"use strict";(function(n){var c=e(26),a=e.n(c);t.a=function(t){var e=n.from(JSON.stringify(t));return a.a.deflateRawSync(e).toString("base64")}}).call(this,e(11).Buffer)},33:function(n,t,e){"use strict";(function(n){var c=e(26),a=e.n(c),r=function(t){var e=n.from(t,"base64"),c=a.a.inflateRawSync(e).toString();return JSON.parse(c)};t.a=function(n){var t=n.split("/");return{sizeX:parseInt(t[0]),sizeY:parseInt(t[1]),hintsX:r(t[2]),hintsY:r(t[3])}}}).call(this,e(11).Buffer)},58:function(n,t,e){},59:function(n,t,e){},66:function(n,t){},68:function(n,t){},94:function(n,t,e){"use strict";e.r(t);var c,a,r,i,s,l,o,u,d,b,h,j,f,x=e(0),p=e.n(x),y=e(24),O=e.n(y),g=(e(58),e(59),e(7)),m=e(53),v=e(15),k={size:null,table:null,hints:{x:null,y:null},mode:"create"},S=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT":var e=t.payload.size,c=e.x,a=e.y;return{size:{x:c,y:a},table:Array.from({length:c}).map((function(n){return Array.from({length:a}).map((function(){return"white"}))}))};case"SET_PIXEL":var r=t.payload,i=r.position,s=i.x,l=i.y,o=r.cellState,u=n.table;return u[s][l]=o,Object(v.a)(Object(v.a)({},n),{},{table:u});case"SET_HINTS":var d=t.payload,b=d.xHints,h=d.yHints;return Object(v.a)(Object(v.a)({},n),{},{hints:{x:b.map((function(t){return(t||[]).concat(Array.from({length:Math.ceil(n.size.y/2)-(t?t.length:0)}))})),y:h.map((function(t){return(t||[]).concat(Array.from({length:Math.ceil(n.size.x/2)-(t?t.length:0)}))}))}});case"SET_MODE":var j=t.payload.mode;return Object(v.a)(Object(v.a)({},n),{},{mode:j});default:return n}},H=e(4),z=e(5),T=function(n){var t=[],e=0;return n.push("padding"),n.map((function(n){return"black"===n?"1":"0"})).forEach((function(n,c){"1"===n?e++:e>0&&(t.push(e),e=0)})),n.pop(),t.concat(Array.from({length:n.length/2-t.length}))},w=function(n){if(!n)return{xHints:null,yHints:null};for(var t=[],e=function(e){var c=Array.from({length:n.length}).map((function(n,t){return t})).map((function(t){return n[t][e]}));t.push(c)},c=0;c<n[0].length;c++)e(c);return{xHints:n.map((function(n){return T(n)})),yHints:t.map((function(n){return T(n)}))}},E=e(19),I=e(33),N=e(1),A=z.a.div(c||(c=Object(H.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  border: 1px solid black;\n"]))),C=z.a.div(a||(a=Object(H.a)(["\n  background: black;\n  width: 100%;\n  height: 100%;\n"]))),_=z.a.div(r||(r=Object(H.a)(["\n  background: white;\n  width: 100%;\n  height: 100%;\n"]))),P=z.a.div(i||(i=Object(H.a)(["\n  background: white;\n  background-image: linear-gradient(-45deg,\n    transparent 48%,\n    black 48%,\n    black 52%,\n    transparent 52%, \n    transparent),\n  linear-gradient(45deg, /*\u89d2\u5ea6*/\n    transparent 48%,\n    black 48%, /*\u659c\u7dda\u306e\u8272*/\n    black 52%, /*\u659c\u7dda\u306e\u8272*/\n    transparent 52%, \n    transparent);\n  width: 100%;\n  height: 100%;\n"]))),M=function(n){var t=n.status,e=n.x,c=n.y,a=n.mode,r=n.onClickPixel,i=Object(g.b)();return Object(N.jsx)(A,{onClick:function(){var n="";switch(t){case"white":n="black";break;case"black":n="solve"===a?"checked":"white";break;case"checked":default:n="white"}i({type:"SET_PIXEL",payload:{position:{x:e,y:c},cellState:n}}),r()},onMouseEnter:function(n){1===n.buttons&&(i({type:"SET_PIXEL",payload:{position:{x:e,y:c},cellState:"black"}}),r())},children:function(n){switch(n){case"white":return Object(N.jsx)(_,{});case"black":return Object(N.jsx)(C,{});case"checked":default:return Object(N.jsx)(P,{})}}(t)})},X=z.a.div(s||(s=Object(H.a)(["\n  width: 40px;\n  height: 40px;\n  border-collapse: collapse;\n  font-size: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #999;\n"]))),F=z.a.table(l||(l=Object(H.a)(["\n  width: 50px;\n  height: 50px;\n  \n  // border: 1px solid black;\n  border-spacing: 0;\n  border-collapse: collapse;\n  td {\n   padding: 0;\n   margin: 0;\n  }\n"]))),L=z.a.div(o||(o=Object(H.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid black;\n  border-collapse: collapse;\n"]))),B=z.a.th(u||(u=Object(H.a)(["\n  font-size: 16px;\n  font-weight: bold;\n"]))),D=z.a.div(d||(d=Object(H.a)(["\n  width: 20px;\n  height: 20px;\n"]))),J=function(n){var t=n.size,e=n.table,c=n.xHints,a=n.yHints,r=n.onClickPixel,i=function(n){return n?Array.from({length:n},(function(n,t){return t})):[]},s=i(t),l=c&&c.reduce((function(n,t){return Math.max(n.length||n,t.length||t)})),o=a&&a.reduce((function(n,t){return Math.max(n.length||n,t.length||t)})),u=Math.max(l,o),d=Object(g.c)((function(n){return n})).mode;return Object(N.jsxs)(F,{cellSpacing:"0",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)(B,{children:Object(N.jsx)(D,{})}),i(l).map((function(n){return Object(N.jsx)("th",{},n)})),s.map((function(n){return Object(N.jsx)(B,{children:n},n)}))]})}),Object(N.jsxs)("tbody",{children:[i(u).map((function(n){return Object(N.jsxs)("tr",{children:[Object(N.jsx)(B,{as:"td"}),i(l).map((function(n){return Object(N.jsx)("td",{children:Object(N.jsx)(X,{children:Object(N.jsx)(L,{})})},n)})),i(t).map((function(t){return Object(N.jsx)("td",{children:Object(N.jsx)(X,{children:Object(N.jsx)(L,{children:a[t][n]||""})})},t)}))]},n)})),s.map((function(n){return Object(N.jsxs)("tr",{children:[Object(N.jsx)(B,{as:"td",children:n},n),i(l).map((function(t){return Object(N.jsx)("td",{children:Object(N.jsx)(X,{children:Object(N.jsx)(L,{children:c[n][t]||""})})},t)})),s.map((function(t){return Object(N.jsx)("td",{children:Object(N.jsx)(X,{children:Object(N.jsx)(M,{x:n,y:t,status:e&&e[n][t],onClickPixel:r,mode:d})})},t)}))]},n)}))]})]})},Y=z.a.div(b||(b=Object(H.a)(["\n  display: flex;\n  padding: 40px;\n"]))),R=function(n){var t=n.size,e=n.table,c=n.hints,a=n.onClickPixel;return Object(N.jsx)(Y,{children:e&&c&&Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(J,{size:t.x,table:e,xHints:c.x,yHints:c.y,onClickPixel:a})})})},q=e(34),G=e(3),K=e(27),Q=z.a.div(h||(h=Object(H.a)(["\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n"]))),U=function(){var n=Object(g.c)((function(n){return n})),t=n.size,e=n.table,c=n.hints,a=Object(g.b)(),r=Object(x.useState)(""),i=Object(K.a)(r,2),s=i[0],l=i[1],o=function(){a({type:"INIT",payload:{size:{x:10,y:10}}}),a({type:"SET_HINTS",payload:{xHints:Array.from({length:10}),yHints:Array.from({length:10})}}),a({type:"SET_MODE",payload:{mode:"create"}})};return Object(x.useEffect)((function(){e||o()})),Object(x.useEffect)((function(){c&&c.x&&c.y&&function(){var n=Object(E.a)(c.x),e=Object(E.a)(c.y),a="".concat(t.x,"/").concat(t.y,"/").concat(n,"/").concat(e);l("/solve?hint=".concat(a))}()}),[c]),Object(N.jsxs)(Q,{children:[Object(N.jsx)(R,{size:t,table:e,hints:c,onClickPixel:function(){var n=w(e),t=n.xHints,c=n.yHints;a({type:"SET_HINTS",payload:{xHints:t,yHints:c}})}}),Object(N.jsxs)(N.Fragment,{children:["table size(max size is 20): ",Object(N.jsx)("input",{type:"text",onChange:function(n){return function(n){if(!isNaN(n)){var t=parseInt(n);t>0&&t<=20&&(a({type:"INIT",payload:{size:{x:t,y:t}}}),a({type:"SET_HINTS",payload:{xHints:Array.from({length:t}),yHints:Array.from({length:t})}}))}}(n.target.value)},max:30})]}),"Let's solve: ",Object(N.jsx)("a",{href:s,target:"_blank",children:s&&"here"}),Object(N.jsx)("button",{onClick:o,children:"Reset!"})]})},V=z.a.div(j||(j=Object(H.a)(["\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n"]))),W=z.a.p(f||(f=Object(H.a)(["\n  font-size: 40px;\n  font-weight: bold;\n  color: red;\n"]))),Z=function(){var n=Object(g.c)((function(n){return n})),t=n.size,e=n.table,c=n.hints,a=Object(g.b)(),r=Object(G.e)(),i=Object(x.useState)(!1),s=Object(K.a)(i,2),l=s[0],o=s[1],u=function(n,t){for(var e=0;e<n.length;e++)for(var c=0;c<n[0].length;c++)if(n[e][c]!=t[e][c])return!1;return!0};return Object(x.useEffect)((function(){e||function(){if(a({type:"SET_MODE",payload:{mode:"solve"}}),!r.search)return a({type:"INIT",payload:{size:{x:10,y:10}}}),void a({type:"SET_HINTS",payload:{xHints:Array.from({length:10}),yHints:Array.from({length:10})}});var n=r.search.replace("?hint=",""),t=Object(I.a)(n),e=t.sizeX,c=t.sizeY,i=t.hintsX,s=t.hintsY;a({type:"INIT",payload:{size:{x:e,y:c}}}),a({type:"SET_HINTS",payload:{xHints:i,yHints:s}})}()})),Object(N.jsxs)(V,{children:[Object(N.jsx)(R,{size:t,table:e,hints:c,onClickPixel:function(){var n=w(e);u(n.xHints,c.x)&&u(n.yHints,c.y)?o(!0):o(!1)}}),Object(N.jsx)(W,{children:l&&"Solved!"})]})};var $=function(){var n=Object(m.a)(S);return Object(N.jsx)("div",{className:"App",children:Object(N.jsx)(g.a,{store:n,children:Object(N.jsxs)(q.a,{children:[Object(N.jsx)(G.a,{path:"/create",component:U}),Object(N.jsx)(G.a,{path:"/solve",component:Z})]})})})},nn=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,95)).then((function(t){var e=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;e(n),c(n),a(n),r(n),i(n)}))};O.a.render(Object(N.jsx)(p.a.StrictMode,{children:Object(N.jsx)($,{})}),document.getElementById("root")),nn()}},[[94,1,2]]]);
//# sourceMappingURL=main.ffe9664f.chunk.js.map