(this["webpackJsonpillust-logic"]=this["webpackJsonpillust-logic"]||[]).push([[0],{20:function(t,e,n){"use strict";(function(t){var c=n(27),a=n.n(c);e.a=function(e){var n=encodeURI(JSON.stringify(e.flat().map((function(t){return t||0})))),c=t.from(n);return a.a.deflateRawSync(c).toString("base64")}}).call(this,n(11).Buffer)},28:function(t,e,n){"use strict";(function(t){var c=n(27),a=n.n(c),r=function(e,n){for(var c=t.from(e,"base64"),r=a.a.inflateRawSync(c).toString(),i=JSON.parse(decodeURI(r)).map((function(t){return 0===t?null:t})),s=[],l=0;l<n;l++){var o=Math.ceil(n/2)*l,u=Math.ceil(n/2)*(l+1);s.push(i.slice(o,u))}return s};e.a=function(t){var e=t.split("_"),n=parseInt(e[0]),c=parseInt(e[1]);return{sizeX:n,sizeY:c,hintsX:r(e[2],n),hintsY:r(e[3],c)}}}).call(this,n(11).Buffer)},59:function(t,e,n){},60:function(t,e,n){},67:function(t,e){},69:function(t,e){},97:function(t,e,n){"use strict";n.r(e);var c,a,r,i,s,l,o,u,j,b,d,h,f,p,x=n(0),O=n.n(x),y=n(25),g=n.n(y),m=(n(59),n(60),n(7)),v=n(54),k=n(16),S={size:null,table:null,hints:{x:null,y:null},mode:"create"},H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"INIT":var n=e.payload.size,c=n.x,a=n.y;return{size:{x:c,y:a},table:Array.from({length:c}).map((function(t){return Array.from({length:a}).map((function(){return"white"}))}))};case"SET_PIXEL":var r=e.payload,i=r.position,s=i.x,l=i.y,o=r.cellState,u=t.table;return u[s][l]=o,Object(k.a)(Object(k.a)({},t),{},{table:u});case"SET_HINTS":var j=e.payload,b=j.xHints,d=j.yHints;return Object(k.a)(Object(k.a)({},t),{},{hints:{x:b.map((function(e){return(e||[]).concat(Array.from({length:Math.ceil(t.size.y/2)-(e?e.length:0)}))})),y:d.map((function(e){return(e||[]).concat(Array.from({length:Math.ceil(t.size.x/2)-(e?e.length:0)}))}))}});case"SET_MODE":var h=e.payload.mode;return Object(k.a)(Object(k.a)({},t),{},{mode:h});default:return t}},I=n(4),z=n(5),E=function(t){var e=[],n=0;return t.push("padding"),t.map((function(t){return"black"===t?"1":"0"})).forEach((function(t,c){"1"===t?n++:n>0&&(e.push(n),n=0)})),t.pop(),e.concat(Array.from({length:t.length/2-e.length}))},T=function(t){if(!t)return{xHints:null,yHints:null};for(var e=[],n=function(n){var c=Array.from({length:t.length}).map((function(t,e){return e})).map((function(e){return t[e][n]}));e.push(c)},c=0;c<t[0].length;c++)n(c);return{xHints:t.map((function(t){return E(t)})),yHints:e.map((function(t){return E(t)}))}},w=n(20),_=n(28),N=n(1),A=z.a.div(c||(c=Object(I.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  border: 1px solid black;\n"]))),C=z.a.div(a||(a=Object(I.a)(["\n  background: black;\n  width: 100%;\n  height: 100%;\n"]))),M=z.a.div(r||(r=Object(I.a)(["\n  background: white;\n  width: 100%;\n  height: 100%;\n"]))),P=z.a.div(i||(i=Object(I.a)(["\n  background: white;\n  background-image: linear-gradient(-45deg,\n    transparent 48%,\n    black 48%,\n    black 52%,\n    transparent 52%, \n    transparent),\n  linear-gradient(45deg, /*\u89d2\u5ea6*/\n    transparent 48%,\n    black 48%, /*\u659c\u7dda\u306e\u8272*/\n    black 52%, /*\u659c\u7dda\u306e\u8272*/\n    transparent 52%, \n    transparent);\n  width: 100%;\n  height: 100%;\n"]))),X=function(t){var e=t.status,n=t.x,c=t.y,a=t.mode,r=t.onClickPixel,i=Object(m.b)();return Object(N.jsx)(A,{onClick:function(){var t="";switch(e){case"white":t="black";break;case"black":t="solve"===a?"checked":"white";break;case"checked":default:t="white"}i({type:"SET_PIXEL",payload:{position:{x:n,y:c},cellState:t}}),r()},onMouseEnter:function(t){1===t.buttons&&(i({type:"SET_PIXEL",payload:{position:{x:n,y:c},cellState:"black"}}),r())},children:function(t){switch(t){case"white":return Object(N.jsx)(M,{});case"black":return Object(N.jsx)(C,{});case"checked":default:return Object(N.jsx)(P,{})}}(e)})},F=z.a.div(s||(s=Object(I.a)(["\n  width: 40px;\n  height: 40px;\n  border-collapse: collapse;\n  font-size: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #999;\n"]))),L=z.a.table(l||(l=Object(I.a)(["\n  width: 50px;\n  height: 50px;\n  \n  // border: 1px solid black;\n  border-spacing: 0;\n  border-collapse: collapse;\n  td {\n   padding: 0;\n   margin: 0;\n  }\n"]))),R=z.a.div(o||(o=Object(I.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid black;\n  border-collapse: collapse;\n"]))),B=z.a.th(u||(u=Object(I.a)(["\n  font-size: 16px;\n  font-weight: bold;\n"]))),D=z.a.div(j||(j=Object(I.a)(["\n  width: 20px;\n  height: 20px;\n"]))),J=function(t){var e=t.size,n=t.table,c=t.xHints,a=t.yHints,r=t.onClickPixel,i=function(t){return t?Array.from({length:t},(function(t,e){return e})):[]},s=i(e),l=c&&c.reduce((function(t,e){return Math.max(t.length||t,e.length||e)})),o=a&&a.reduce((function(t,e){return Math.max(t.length||t,e.length||e)})),u=Math.max(l,o),j=Object(m.c)((function(t){return t})).mode;return Object(N.jsxs)(L,{cellSpacing:"0",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)(B,{children:Object(N.jsx)(D,{})}),i(l).map((function(t){return Object(N.jsx)("th",{},t)})),s.map((function(t){return Object(N.jsx)(B,{children:t},t)}))]})}),Object(N.jsxs)("tbody",{children:[i(u).map((function(t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)(B,{as:"td"}),i(l).map((function(t){return Object(N.jsx)("td",{children:Object(N.jsx)(F,{children:Object(N.jsx)(R,{})})},t)})),i(e).map((function(e){return Object(N.jsx)("td",{children:Object(N.jsx)(F,{children:Object(N.jsx)(R,{children:a[e][t]||""})})},e)}))]},t)})),s.map((function(t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)(B,{as:"td",children:t},t),i(l).map((function(e){return Object(N.jsx)("td",{children:Object(N.jsx)(F,{children:Object(N.jsx)(R,{children:c[t][e]||""})})},e)})),s.map((function(e){return Object(N.jsx)("td",{children:Object(N.jsx)(F,{children:Object(N.jsx)(X,{x:t,y:e,status:n&&n[t][e],onClickPixel:r,mode:j})})},e)}))]},t)}))]})]})},Y=z.a.div(b||(b=Object(I.a)(["\n  display: flex;\n  padding: 40px;\n"]))),U=function(t){var e=t.size,n=t.table,c=t.hints,a=t.onClickPixel;return Object(N.jsx)(Y,{children:n&&c&&Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(J,{size:e.x,table:n,xHints:c.x,yHints:c.y,onClickPixel:a})})})},q=n(34),G=n(3),K=n(15),Q=z.a.div(d||(d=Object(I.a)(["\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n"]))),V=z.a.div(h||(h=Object(I.a)(["\n  display: flex;\n"]))),W=function(){var t=Object(m.c)((function(t){return t})),e=t.size,n=t.table,c=t.hints,a=Object(m.b)(),r=Object(x.useState)(""),i=Object(K.a)(r,2),s=i[0],l=i[1],o=function(){a({type:"INIT",payload:{size:{x:10,y:10}}}),a({type:"SET_HINTS",payload:{xHints:Array.from({length:10}),yHints:Array.from({length:10})}}),a({type:"SET_MODE",payload:{mode:"create"}})};return Object(x.useEffect)((function(){n||o()})),Object(x.useEffect)((function(){c&&c.x&&c.y&&function(){var t=Object(w.a)(c.x),n=Object(w.a)(c.y),a="".concat(e.x,"_").concat(e.y,"_").concat(t,"_").concat(n);l("?type=solve&hint=".concat(a))}()}),[c]),Object(N.jsxs)(Q,{children:[Object(N.jsx)(U,{size:e,table:n,hints:c,onClickPixel:function(){var t=T(n),e=t.xHints,c=t.yHints;a({type:"SET_HINTS",payload:{xHints:e,yHints:c}})}}),Object(N.jsxs)(V,{children:["table size(max size is 20): ",Object(N.jsx)("input",{type:"text",onChange:function(t){return function(t){if(!isNaN(t)){var e=parseInt(t);e>0&&e<=20&&(a({type:"INIT",payload:{size:{x:e,y:e}}}),a({type:"SET_HINTS",payload:{xHints:Array.from({length:e}),yHints:Array.from({length:e})}}))}}(t.target.value)},max:30})]}),Object(N.jsxs)(V,{children:["Let's solve: ",Object(N.jsx)("a",{href:s,target:"_blank",children:s&&"here"})]}),Object(N.jsx)("button",{onClick:o,children:"Reset!"})]})},Z=n(53),$=n.n(Z),tt=z.a.div(f||(f=Object(I.a)(["\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n"]))),et=z.a.p(p||(p=Object(I.a)(["\n  font-size: 40px;\n  font-weight: bold;\n  color: red;\n"]))),nt=function(){var t=Object(m.c)((function(t){return t})),e=t.size,n=t.table,c=t.hints,a=Object(m.b)(),r=Object(G.e)(),i=Object(x.useState)(!1),s=Object(K.a)(i,2),l=s[0],o=s[1],u=Object(x.useState)(null),j=Object(K.a)(u,2),b=(j[0],j[1],function(t,e){for(var n=0;n<t.length;n++)for(var c=0;c<t[0].length;c++)if(t[n][c]!=e[n][c])return!1;return!0});return Object(x.useEffect)((function(){!function(){if(a({type:"SET_MODE",payload:{mode:"solve"}}),!r.search)return a({type:"INIT",payload:{size:{x:10,y:10}}}),void a({type:"SET_HINTS",payload:{xHints:Array.from({length:10}),yHints:Array.from({length:10})}});var t=$.a.parse(r.search).hint;if(t){var e=Object(_.a)(t),n=e.sizeX,c=e.sizeY,i=e.hintsX,s=e.hintsY;a({type:"INIT",payload:{size:{x:n,y:c}}}),a({type:"SET_HINTS",payload:{xHints:i,yHints:s}})}}()}),[]),Object(N.jsxs)(tt,{children:[Object(N.jsx)(U,{size:e,table:n,hints:c,onClickPixel:function(){var t=T(n);b(t.xHints,c.x)&&b(t.yHints,c.y)?o(!0):o(!1)}}),Object(N.jsx)(et,{children:l&&"Solved!"})]})},ct=function(){var t=Object(G.e)(),e=Object(x.useState)("create"),n=Object(K.a)(e,2),c=n[0],a=n[1];return Object(x.useEffect)((function(){t&&(t.search.indexOf("type=solve")>0?a("solve"):a("create"))}),[t]),Object(N.jsxs)(N.Fragment,{children:["solve"===c&&Object(N.jsx)(nt,{}),"create"===c&&Object(N.jsx)(W,{})]})};var at=function(){var t=Object(v.a)(H);return Object(N.jsx)("div",{className:"App",children:Object(N.jsx)(m.a,{store:t,children:Object(N.jsxs)(q.a,{children:[Object(N.jsx)(G.a,{path:"/",component:ct}),Object(N.jsx)(G.a,{path:"/create",component:W}),Object(N.jsx)(G.a,{path:"/solve",component:nt})]})})})},rt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,98)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),c(t),a(t),r(t),i(t)}))};g.a.render(Object(N.jsx)(O.a.StrictMode,{children:Object(N.jsx)(at,{})}),document.getElementById("root")),rt()}},[[97,1,2]]]);
//# sourceMappingURL=main.fccdbfae.chunk.js.map